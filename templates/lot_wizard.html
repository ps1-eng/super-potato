{% extends 'base.html' %}

{% block content %}
<section class="card">
  <div class="item-header">
    <h2>Create box</h2>
    <a class="link" href="{{ url_for('lots') }}">Back to boxes</a>
  </div>
  <p class="muted">Create a box first. You can add items over time and finalise later to split total cost evenly.</p>

  <form method="post" class="grid">
    <label>
      Box reference
      <input type="text" name="reference" placeholder="e.g. Lockes-2026-02" required />
    </label>
    <label>
      Total box cost (â‚¬)
      <input type="number" step="0.01" min="0.01" name="total_cost" required />
    </label>
    <label>
      Purchase date
      <input type="date" name="purchase_date" value="{{ '' | today_input }}" required />
    </label>
    <label>
      Purchase source
      <input type="text" name="purchase_source" list="purchase-sources" required />
    </label>

    <label class="span-2">
      Box notes (optional)
      <textarea name="notes" rows="2"></textarea>
    </label>

    <button type="submit" class="primary">Save box</button>
  </form>

  <datalist id="purchase-sources">
    {% for source in purchase_sources %}
      <option value="{{ source }}"></option>
    {% endfor %}
  </datalist>
</section>

{% endblock %}
